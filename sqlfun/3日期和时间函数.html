<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>介绍 | Vue.js</title>
    <meta name="description" content="Vue.js - The Progressive JavaScript Framework">
    <link rel="stylesheet" href="/vuepress-vue-theme-blog/assets/style.537330b1.css">
    <link rel="modulepreload" href="/vuepress-vue-theme-blog/assets/app.222b9ad1.js">
    <link rel="modulepreload" href="/vuepress-vue-theme-blog/assets/sqlfun_3日期和时间函数.md.9ad7a6d6.lean.js">
    <link rel="prefetch" href="/vuepress-vue-theme-blog/assets/chunks/VPAlgoliaSearchBox.f233792b.js">
    <link rel="icon" href="/logo.svg">
  <link rel="preload" href="/assets/inter-latin.7b37fe23.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="VPApp" data-v-c6908a82><!--[--><span tabindex="-1" data-v-92947aee></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-92947aee>Skip to content</a><!--]--><!----><!--[--><!--]--><header class="VPNav nav-bar" data-v-c6908a82 data-v-0e4b4273><div class="VPNavBar" data-v-0e4b4273 data-v-d6820efb><div class="container" data-v-d6820efb><a class="VPNavBarTitle" href="/" data-v-d6820efb data-v-17ed7baa><!--[--><svg class="logo" viewBox="0 0 1024 1024" width="24" height="24" data-v-17ed7baa><path d="M642.9184 471.7056l-291.6864-0.6144c-20.6848-0.1024-37.5296 13.3632-37.6832 30.1056-0.1024 16.6912 20.5824 32.1536 41.216 32.256l287.232 0.0512c20.6336 0.1024 37.5296-13.312 37.632-30.0544 0.1024-16.6912-16.0256-31.6416-36.7104-31.744z m0 123.4944H344.4736c-17.2544-0.1024-31.6416 18.0224-31.744 31.9488-0.1024 13.9264 14.4896 29.696 31.744 29.7984h298.496c17.2544 0.0512 35.6864-13.6192 35.7888-27.4944 0.1024-13.9264-18.5856-34.1504-35.84-34.304v0.0512z m0-257.28H354.816c-20.6848-0.1024-40.2432 15.5648-40.3456 32.256-0.1024 16.6912 16.5376 30.3104 37.2736 30.3616l291.1744-0.8704c20.6848 0.1024 37.4784-10.5984 37.5808-27.2384 0.1024-16.7424-16.896-34.4064-37.5808-34.56V337.92zM494.6432 861.184c-204.9024 0-370.9952-165.2736-370.9952-369.1008s166.0928-369.0496 370.9952-369.0496c204.8512 0 370.944 165.2224 370.944 369.0496 0 203.776-166.0928 369.0496-370.944 369.0496v0.0512z m502.272-38.0416c0-0.256 0-0.512-0.1024-0.7168l-3.1232-3.1232a121.344 121.344 0 0 0-9.5744-9.728c-52.48-53.248-63.6928-67.9424-63.6928-67.9424a487.2192 487.2192 0 0 0 68.8128-249.5488C989.2352 220.3136 767.7952 0 494.6432 0 221.44 0 0 220.3136 0 492.0832s221.44 492.032 494.592 492.032a493.568 493.568 0 0 0 250.88-68.4544l68.1984 66.304c2.9184 3.1232 6.0416 6.1952 9.3184 9.0112l4.0448 3.9424 1.024 0.3072c48.64512 38.05696 118.1184 33.50016 161.37728-10.58816 43.25888-44.0832 46.49984-113.62816 7.53152-161.54624v0.0512h-0.0512z" p-id="2749" data-v-17ed7baa></path></svg><span class="text" data-v-17ed7baa>SLS</span><!--]--></a><div class="content" data-v-d6820efb><div class="VPNavBarSearch search" data-v-d6820efb style="--37925b96:&#39;Meta&#39;;"><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-d6820efb data-v-6a1b3809><span id="main-nav-aria-label" class="visually-hidden" data-v-6a1b3809>Main Navigation</span><!--[--><!--[--><a class="vt-link link VPNavBarMenuLink active" href="/vuepress-vue-theme-blog/sqlfun/" data-v-6a1b3809 data-v-4e760846><!--[-->SQL函数<!--]--><!----></a><!--]--><!--[--><div class="vt-flyout VPNavBarMenuGroup" data-v-6a1b3809 data-v-19933bf7><button type="button" class="vt-flyout-button" aria-haspopup="true" aria-expanded="false"><span class="vt-flyout-button-text">Docs <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="vt-flyout-button-text-icon"><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="vt-flyout-menu"><div class="vt-menu"><div class="vt-menu-items"><!--[--><!--[--><div class="vt-menu-group"><!----><!--[--><!--[--><a class="vt-link link vt-menu-link" href="/vuepress-vue-theme-blog/guide/introduction.html"><!--[-->Guide<!--]--><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/vuepress-vue-theme-blog/guide/installation.html"><!--[-->Installation<!--]--><!----></a><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="vt-link link VPNavBarMenuLink" href="/vuepress-vue-theme-blog/api/" data-v-6a1b3809 data-v-4e760846><!--[-->API Reference<!--]--><!----></a><!--]--><!--[--><div class="vt-flyout VPNavBarMenuGroup" data-v-6a1b3809 data-v-19933bf7><button type="button" class="vt-flyout-button" aria-haspopup="true" aria-expanded="false"><span class="vt-flyout-button-text">Ecosystem <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="vt-flyout-button-text-icon"><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="vt-flyout-menu"><div class="vt-menu"><div class="vt-menu-items"><!--[--><!--[--><div class="vt-menu-group"><!----><!--[--><!--[--><a class="vt-link link vt-menu-link" href="https://vuejobs.com/?ref=vuejs" target="_blank" rel="noopener noreferrer"><!--[-->Jobs<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="vt-link-icon"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a><!--]--><!--]--></div><!--]--><!--[--><div class="vt-menu-group"><p class="vt-menu-group-title">Official Projects</p><!--[--><!--[--><a class="vt-link link vt-menu-link" href="https://next.router.vuejs.org/" target="_blank" rel="noopener noreferrer"><!--[-->Vue Router<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="vt-link-icon"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="https://next.vuex.vuejs.org/" target="_blank" rel="noopener noreferrer"><!--[-->Vuex<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="vt-link-icon"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="https://cli.vuejs.org/" target="_blank" rel="noopener noreferrer"><!--[-->Vue CLI<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="vt-link-icon"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="https://next.vue-test-utils.vuejs.org/v2/guide/introduction.html" target="_blank" rel="noopener noreferrer"><!--[-->Vue Test Utils<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="vt-link-icon"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="https://github.com/vuejs/vue-devtools" target="_blank" rel="noopener noreferrer"><!--[-->Devtools<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="vt-link-icon"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="vt-flyout VPNavBarMenuGroup" data-v-6a1b3809 data-v-19933bf7><button type="button" class="vt-flyout-button" aria-haspopup="true" aria-expanded="false"><span class="vt-flyout-button-text">Community <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="vt-flyout-button-text-icon"><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="vt-flyout-menu"><div class="vt-menu"><div class="vt-menu-items"><!--[--><!--[--><div class="vt-menu-group"><!----><!--[--><!--[--><a class="vt-link link vt-menu-link" href="/vuepress-vue-theme-blog/community/team/"><!--[-->Team<!--]--><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/vuepress-vue-theme-blog/community/contribution-guide.html"><!--[-->Contribution Guide<!--]--><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="https://events.vuejs.org/" target="_blank" rel="noopener noreferrer"><!--[-->Events<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="vt-link-icon"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a><!--]--><!--]--></div><!--]--><!--[--><div class="vt-menu-group"><p class="vt-menu-group-title">News</p><!--[--><!--[--><a class="vt-link link vt-menu-link" href="https://twitter.com/vuejs" target="_blank" rel="noopener noreferrer"><!--[-->Twitter<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="vt-link-icon"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="https://news.vuejs.org/" target="_blank" rel="noopener noreferrer"><!--[-->Newsletter<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="vt-link-icon"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="https://blog.vuejs.org/" target="_blank" rel="noopener noreferrer"><!--[-->Blog<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="vt-link-icon"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a><!--]--><!--]--></div><!--]--><!--[--><div class="vt-menu-group"><p class="vt-menu-group-title">Help</p><!--[--><!--[--><a class="vt-link link vt-menu-link" href="https://forum.vuejs.org/" target="_blank" rel="noopener noreferrer"><!--[-->Forum<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="vt-link-icon"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="https://discord.com/invite/HBherRA" target="_blank" rel="noopener noreferrer"><!--[-->Chat<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="vt-link-icon"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="https://dev.to/t/vue" target="_blank" rel="noopener noreferrer"><!--[-->DEV Community<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="vt-link-icon"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><div class="VPNavBarAppearance appearance" data-v-d6820efb data-v-e580b8ea><button class="vt-switch vt-switch-appearance" type="button" role="switch" aria-label="Toggle dark mode" data-v-e580b8ea><span class="vt-switch-check"><span class="vt-switch-icon"><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="vt-switch-appearance-sun"><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="vt-switch-appearance-moon"><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="vt-social-links VPNavBarSocialLinks social-links" data-v-d6820efb data-v-4f589738><!--[--><a class="vt-social-link is-small" href="https://github.com/wangtao0101/vuepress-vue-theme-blog" title="github" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="vt-social-link-icon"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg><span class="visually-hidden">github</span></a><!--]--></div><div class="vt-flyout VPNavBarExtra extra" data-v-d6820efb data-v-cf4c09cd><button type="button" class="vt-flyout-button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="vt-flyout-button-icon"><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="vt-flyout-menu"><div class="vt-menu"><!----><!--[--><!--[--><div class="vt-menu-group" data-v-cf4c09cd><div class="vt-menu-item item" data-v-cf4c09cd><p class="vt-menu-label" data-v-cf4c09cd>Appearance</p><div class="vt-menu-action action" data-v-cf4c09cd><button class="vt-switch vt-switch-appearance" type="button" role="switch" aria-label="Toggle dark mode" data-v-cf4c09cd><span class="vt-switch-check"><span class="vt-switch-icon"><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="vt-switch-appearance-sun"><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="vt-switch-appearance-moon"><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="vt-menu-group" data-v-cf4c09cd><div class="vt-menu-item item" data-v-cf4c09cd><div class="vt-social-links social-links" data-v-cf4c09cd><!--[--><a class="vt-social-link is-small" href="https://github.com/wangtao0101/vuepress-vue-theme-blog" title="github" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="vt-social-link-icon"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg><span class="visually-hidden">github</span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><button type="button" class="vt-hamburger VPNavBarHamburger hamburger" aria-label="Mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-d6820efb data-v-756f8498><span class="vt-hamburger-container"><span class="vt-hamburger-top"></span><span class="vt-hamburger-middle"></span><span class="vt-hamburger-bottom"></span></span></button></div></div></div><!----></header><div class="VPLocalNav" data-v-c6908a82 data-v-ecd07250><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-ecd07250><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-ecd07250><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-ecd07250>Menu</span></button><a class="top-link" href="#" data-v-ecd07250>Return to top</a></div><aside class="VPSidebar" data-v-c6908a82 data-v-e18b70df><nav id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-e18b70df><!--[--><!--]--><span id="sidebar-aria-label" class="visually-hidden" data-v-e18b70df>Sidebar Navigation</span><!--[--><div class="group" data-v-e18b70df><section class="VPSidebarGroup" data-v-e18b70df data-v-37170c80><div class="title" data-v-37170c80><h2 class="title-text" data-v-37170c80></h2></div><!--[--><a class="link" href="/vuepress-vue-theme-blog/sqlfun/index.html" data-v-37170c80 data-v-5833bc70><p class="link-text" data-v-5833bc70>函数概览</p></a><a class="link" href="/vuepress-vue-theme-blog/sqlfun/10%E6%95%B0%E5%AD%A6%E7%BB%9F%E8%AE%A1%E5%87%BD%E6%95%B0.html" data-v-37170c80 data-v-5833bc70><p class="link-text" data-v-5833bc70>10数学统计函数</p></a><a class="link" href="/vuepress-vue-theme-blog/sqlfun/11%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E5%87%BD%E6%95%B0.html" data-v-37170c80 data-v-5833bc70><p class="link-text" data-v-5833bc70>11类型转换函数</p></a><a class="link" href="/vuepress-vue-theme-blog/sqlfun/12%E5%AE%89%E5%85%A8%E6%A3%80%E6%B5%8B%E5%87%BD%E6%95%B0.html" data-v-37170c80 data-v-5833bc70><p class="link-text" data-v-5833bc70>12安全检测函数</p></a><a class="link" href="/vuepress-vue-theme-blog/sqlfun/13%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0%EF%BC%88%E5%BE%85%E5%A4%84%E7%90%86%EF%BC%89.html" data-v-37170c80 data-v-5833bc70><p class="link-text" data-v-5833bc70>13窗口函数（待处理）</p></a><a class="link" href="/vuepress-vue-theme-blog/sqlfun/14IP%E5%87%BD%E6%95%B0.html" data-v-37170c80 data-v-5833bc70><p class="link-text" data-v-5833bc70>14IP函数</p></a><a class="link" href="/vuepress-vue-theme-blog/sqlfun/15URL%E5%87%BD%E6%95%B0.html" data-v-37170c80 data-v-5833bc70><p class="link-text" data-v-5833bc70>15URL函数</p></a><a class="link" href="/vuepress-vue-theme-blog/sqlfun/16%E4%BC%B0%E7%AE%97%E5%87%BD%E6%95%B0.html" data-v-37170c80 data-v-5833bc70><p class="link-text" data-v-5833bc70>16估算函数</p></a><a class="link" href="/vuepress-vue-theme-blog/sqlfun/17%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%87%BD%E6%95%B0.html" data-v-37170c80 data-v-5833bc70><p class="link-text" data-v-5833bc70>17二进制函数</p></a><a class="link" href="/vuepress-vue-theme-blog/sqlfun/18%E4%BD%8D%E8%BF%90%E7%AE%97%E5%87%BD%E6%95%B0.html" data-v-37170c80 data-v-5833bc70><p class="link-text" data-v-5833bc70>18位运算函数</p></a><a class="link" href="/vuepress-vue-theme-blog/sqlfun/19%E7%A9%BA%E9%97%B4%E5%87%A0%E4%BD%95%E5%87%BD%E6%95%B0.html" data-v-37170c80 data-v-5833bc70><p class="link-text" data-v-5833bc70>19空间几何函数</p></a><a class="link" href="/vuepress-vue-theme-blog/sqlfun/1%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0.html" data-v-37170c80 data-v-5833bc70><p class="link-text" data-v-5833bc70>1聚合函数</p></a><a class="link" href="/vuepress-vue-theme-blog/sqlfun/20%E5%9C%B0%E7%90%86%E5%87%BD%E6%95%B0.html" data-v-37170c80 data-v-5833bc70><p class="link-text" data-v-5833bc70>20地理函数</p></a><a class="link" href="/vuepress-vue-theme-blog/sqlfun/21%E9%A2%9C%E8%89%B2%E5%87%BD%E6%95%B0.html" data-v-37170c80 data-v-5833bc70><p class="link-text" data-v-5833bc70>21颜色函数</p></a><a class="link" href="/vuepress-vue-theme-blog/sqlfun/22HyperLogLog%E5%87%BD%E6%95%B0.html" data-v-37170c80 data-v-5833bc70><p class="link-text" data-v-5833bc70>22HyperLogLog函数</p></a><a class="link" href="/vuepress-vue-theme-blog/sqlfun/23%E7%94%B5%E8%AF%9D%E5%8F%B7%E7%A0%81%E5%87%BD%E6%95%B0(%E5%BE%85%E5%A4%84%E7%90%86).html" data-v-37170c80 data-v-5833bc70><p class="link-text" data-v-5833bc70>23电话号码函数(待处理)</p></a><a class="link" href="/vuepress-vue-theme-blog/sqlfun/24%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6.html" data-v-37170c80 data-v-5833bc70><p class="link-text" data-v-5833bc70>24比较运算符</p></a><a class="link" href="/vuepress-vue-theme-blog/sqlfun/25%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6.html" data-v-37170c80 data-v-5833bc70><p class="link-text" data-v-5833bc70>25逻辑运算符</p></a><a class="link" href="/vuepress-vue-theme-blog/sqlfun/26%E5%8D%95%E4%BD%8D%E6%8D%A2%E7%AE%97%E5%87%BD%E6%95%B0.html" data-v-37170c80 data-v-5833bc70><p class="link-text" data-v-5833bc70>26单位换算函数</p></a><a class="link" href="/vuepress-vue-theme-blog/sqlfun/27%E7%AA%97%E5%8F%A3%E6%BC%8F%E6%96%97%E5%87%BD%E6%95%B0.html" data-v-37170c80 data-v-5833bc70><p class="link-text" data-v-5833bc70>27窗口漏斗函数</p></a><a class="link" href="/vuepress-vue-theme-blog/sqlfun/28Lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%88%E5%BE%85%E5%A4%84%E7%90%86%EF%BC%89.html" data-v-37170c80 data-v-5833bc70><p class="link-text" data-v-5833bc70>28Lambda表达式（待处理）</p></a><a class="link" href="/vuepress-vue-theme-blog/sqlfun/29%E6%9D%A1%E4%BB%B6%E8%A1%A8%E8%BE%BE%E5%BC%8F.html" data-v-37170c80 data-v-5833bc70><p class="link-text" data-v-5833bc70>29条件表达式</p></a><a class="link" href="/vuepress-vue-theme-blog/sqlfun/2%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0.html" data-v-37170c80 data-v-5833bc70><p class="link-text" data-v-5833bc70>2字符串函数</p></a><a class="link" href="/vuepress-vue-theme-blog/sqlfun/3%E6%97%A5%E6%9C%9F%E5%92%8C%E6%97%B6%E9%97%B4%E5%87%BD%E6%95%B0.html" data-v-37170c80 data-v-5833bc70><p class="link-text" data-v-5833bc70>3日期和时间函数</p></a><a class="link" href="/vuepress-vue-theme-blog/sqlfun/4JSON%E5%87%BD%E6%95%B0.html" data-v-37170c80 data-v-5833bc70><p class="link-text" data-v-5833bc70>4JSON函数</p></a><a class="link" href="/vuepress-vue-theme-blog/sqlfun/5%E6%AD%A3%E5%88%99%E5%BC%8F%E5%87%BD%E6%95%B0.html" data-v-37170c80 data-v-5833bc70><p class="link-text" data-v-5833bc70>5正则式函数</p></a><a class="link" href="/vuepress-vue-theme-blog/sqlfun/6%E5%90%8C%E6%AF%94%E5%92%8C%E7%8E%AF%E6%AF%94%E5%87%BD%E6%95%B0.html" data-v-37170c80 data-v-5833bc70><p class="link-text" data-v-5833bc70>6同比和环比函数</p></a><a class="link" href="/vuepress-vue-theme-blog/sqlfun/7%E6%95%B0%E7%BB%84%E5%87%BD%E6%95%B0%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6.html" data-v-37170c80 data-v-5833bc70><p class="link-text" data-v-5833bc70>7数组函数和运算符</p></a><a class="link" href="/vuepress-vue-theme-blog/sqlfun/8Map%E6%98%A0%E5%B0%84%E5%87%BD%E6%95%B0%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6.html" data-v-37170c80 data-v-5833bc70><p class="link-text" data-v-5833bc70>8Map映射函数和运算符</p></a><a class="link" href="/vuepress-vue-theme-blog/sqlfun/9%E6%95%B0%E5%AD%A6%E8%AE%A1%E7%AE%97%E5%87%BD%E6%95%B0.html" data-v-37170c80 data-v-5833bc70><p class="link-text" data-v-5833bc70>9数学计算函数</p></a><!--]--></section></div><!--]--><!--[--><!--]--></nav></aside><div id="VPContent" class="VPContent has-sidebar" data-v-c6908a82 data-v-9763fc99><div class="VPContentDoc has-aside has-sidebar" data-v-9763fc99 data-v-d1a32bc9><div class="container" data-v-d1a32bc9><div class="aside" data-v-d1a32bc9><div class="aside-container" data-v-d1a32bc9><!--[--><!--]--><div class="VPContentDocOutline" data-v-d1a32bc9 data-v-b33205ef><div class="outline-marker" data-v-b33205ef></div><div class="outline-title" data-v-b33205ef>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-b33205ef><span id="doc-outline-aria-label" class="visually-hidden" data-v-b33205ef>Table of Contents for current page</span><ul class="root" data-v-b33205ef><!--[--><li style="" data-v-b33205ef><a class="outline-link" href="#current-date函数" data-v-b33205ef>current_date函数</a><!----></li><li style="" data-v-b33205ef><a class="outline-link" href="#current-time函数" data-v-b33205ef>current_time函数</a><!----></li><li style="" data-v-b33205ef><a class="outline-link" href="#current-timestamp函数" data-v-b33205ef>current_timestamp函数</a><!----></li><li style="" data-v-b33205ef><a class="outline-link" href="#current-timezone函数" data-v-b33205ef>current_timezone函数</a><!----></li><li style="" data-v-b33205ef><a class="outline-link" href="#date函数" data-v-b33205ef>date函数</a><!----></li><li style="" data-v-b33205ef><a class="outline-link" href="#date-format函数" data-v-b33205ef>date_format函数</a><!----></li><li style="" data-v-b33205ef><a class="outline-link" href="#date-parse函数" data-v-b33205ef>date_parse函数</a><!----></li><li style="" data-v-b33205ef><a class="outline-link" href="#from-iso8601-date函数" data-v-b33205ef>from_iso8601_date函数</a><!----></li><li style="" data-v-b33205ef><a class="outline-link" href="#from-iso8601-timestamp函数" data-v-b33205ef>from_iso8601_timestamp函数</a><!----></li><li style="" data-v-b33205ef><a class="outline-link" href="#from-unixtime函数" data-v-b33205ef>from_unixtime函数</a><!----></li><li style="" data-v-b33205ef><a class="outline-link" href="#localtime函数" data-v-b33205ef>localtime函数</a><!----></li><li style="" data-v-b33205ef><a class="outline-link" href="#localtimestamp函数" data-v-b33205ef>localtimestamp函数</a><!----></li><li style="" data-v-b33205ef><a class="outline-link" href="#now函数" data-v-b33205ef>now函数</a><!----></li><li style="" data-v-b33205ef><a class="outline-link" href="#to-iso8601函数" data-v-b33205ef>to_iso8601函数</a><!----></li><li style="" data-v-b33205ef><a class="outline-link" href="#to-unixtime函数" data-v-b33205ef>to_unixtime函数</a><!----></li><li style="" data-v-b33205ef><a class="outline-link" href="#day函数" data-v-b33205ef>day函数</a><!----></li><li style="" data-v-b33205ef><a class="outline-link" href="#day-of-month函数" data-v-b33205ef>day_of_month函数</a><!----></li><li style="" data-v-b33205ef><a class="outline-link" href="#day-of-week函数" data-v-b33205ef>day_of_week函数</a><!----></li><li style="" data-v-b33205ef><a class="outline-link" href="#day-of-year函数" data-v-b33205ef>day_of_year函数</a><!----></li><li style="" data-v-b33205ef><a class="outline-link" href="#dow函数" data-v-b33205ef>dow函数</a><!----></li><li style="" data-v-b33205ef><a class="outline-link" href="#doy函数" data-v-b33205ef>doy函数</a><!----></li><li style="" data-v-b33205ef><a class="outline-link" href="#extract函数" data-v-b33205ef>extract函数</a><!----></li><li style="" data-v-b33205ef><a class="outline-link" href="#hour函数" data-v-b33205ef>hour函数</a><!----></li><li style="" data-v-b33205ef><a class="outline-link" href="#minute函数" data-v-b33205ef>minute函数</a><!----></li><li style="" data-v-b33205ef><a class="outline-link" href="#month函数" data-v-b33205ef>month函数</a><!----></li><li style="" data-v-b33205ef><a class="outline-link" href="#quarter函数" data-v-b33205ef>quarter函数</a><!----></li><li style="" data-v-b33205ef><a class="outline-link" href="#second函数" data-v-b33205ef>second函数</a><!----></li><li style="" data-v-b33205ef><a class="outline-link" href="#timezone-hour函数" data-v-b33205ef>timezone_hour函数</a><!----></li><li style="" data-v-b33205ef><a class="outline-link" href="#timezone-minute函数" data-v-b33205ef>timezone_minute函数</a><!----></li><li style="" data-v-b33205ef><a class="outline-link" href="#week函数" data-v-b33205ef>week函数</a><!----></li><li style="" data-v-b33205ef><a class="outline-link" href="#week-of-year函数" data-v-b33205ef>week_of_year函数</a><!----></li><li style="" data-v-b33205ef><a class="outline-link" href="#year函数" data-v-b33205ef>year函数</a><!----></li><li style="" data-v-b33205ef><a class="outline-link" href="#year-of-week函数" data-v-b33205ef>year_of_week函数</a><!----></li><li style="" data-v-b33205ef><a class="outline-link" href="#yow函数" data-v-b33205ef>yow函数</a><!----></li><li style="" data-v-b33205ef><a class="outline-link" href="#date-trunc函数" data-v-b33205ef>date_trunc函数</a><!----></li><li style="" data-v-b33205ef><a class="outline-link" href="#date-add函数" data-v-b33205ef>date_add函数</a><!----></li><li style="" data-v-b33205ef><a class="outline-link" href="#date-diff函数" data-v-b33205ef>date_diff函数</a><!----></li><li style="" data-v-b33205ef><a class="outline-link" href="#time-series函数" data-v-b33205ef>time_series函数</a><!----></li><li style="" data-v-b33205ef><a class="outline-link" href="#format说明" data-v-b33205ef>format说明</a><!----></li><li style="" data-v-b33205ef><a class="outline-link" href="#unit说明" data-v-b33205ef>unit说明</a><!----></li><!--]--></ul></nav></div><!--[--><!--]--><div class="VPCarbonAds" data-v-d1a32bc9></div><!--[--><!--]--></div></div><div class="content" data-v-d1a32bc9><!--[--><!--]--><main data-v-d1a32bc9><div style="position:relative;" class="vt-doc sqlfun" data-v-d1a32bc9><div><h1 id="介绍" tabindex="-1">介绍 <a class="header-anchor" href="#介绍" aria-hidden="true">#</a></h1><p>日志服务提供时间函数、日期函数、时间截断函数、时间间隔函数和时序补全函数，支持对日志中的日期和时间进行格式转换，分组聚合等处理。本文介绍日期和时间函数的基本语法及示例。</p><h1 id="函数示例" tabindex="-1">函数示例 <a class="header-anchor" href="#函数示例" aria-hidden="true">#</a></h1><p>日志服务支持如下日期和时间函数。</p><ul><li><p>日志服务中的日志时间戳精确到秒，所以配置时间格式（<a href="#LogService-user-guide-0110/section-8g8-2xm-kdv">format</a>）时，只需配置到秒，无需配置毫秒、微秒等信息。</p></li><li><p>只需为时间字符串中的时间部分配置时间格式（<a href="#LogService-user-guide-0110/section-8g8-2xm-kdv">format</a>），其他内容（例如时区）无需配置时间格式。</p></li><li><p>日志服务中的每条日志都包含保留字段__time__，该字段的值为UNIX时间戳格式，例如1592374067，代表2020-06-17 14:07:47。</p></li><li><p>在日志服务分析语句中，表示字符串的字符必须使用单引号（&#39;&#39;）包裹，无符号包裹或被双引号（&quot;&quot;）包裹的字符表示字段名或列名。例如：&#39;status&#39;表示字符串status，status或&quot;status&quot;表示日志字段status。</p></li></ul><table><thead><tr><th>函数类型</th><th>函数名称</th><th>语法</th><th>说明</th></tr></thead><tbody><tr><td>日期和时间函数</td><td><a href="#current_date%E5%87%BD%E6%95%B0">current_date函数</a></td><td>current_date</td><td>返回当前日期。</td></tr><tr><td>日期和时间函数</td><td><a href="#current_time%E5%87%BD%E6%95%B0">current_time函数</a></td><td>current_time</td><td>返回当前时间和时区。</td></tr><tr><td>日期和时间函数</td><td><a href="#current_timestamp%E5%87%BD%E6%95%B0">current_timestamp函数</a></td><td>current_timestamp</td><td>返回当前日期、时间和时区。</td></tr><tr><td>日期和时间函数</td><td><a href="#current_timezone%E5%87%BD%E6%95%B0">current_timezone函数</a></td><td>current_timezone()</td><td>返回当前时区。</td></tr><tr><td>日期和时间函数</td><td><a href="#date%E5%87%BD%E6%95%B0">date函数</a></td><td>date( <em>x</em> )</td><td>返回日期和时间表达式中的日期部分。</td></tr><tr><td>日期和时间函数</td><td><a href="#date_format%E5%87%BD%E6%95%B0">date_format函数</a></td><td>date_format( <em>x</em> , <em>format</em> )</td><td>将timestamp类型的日期和时间表达式转化为指定格式的日期和时间表达式。</td></tr><tr><td>日期和时间函数</td><td><a href="#date_parse%E5%87%BD%E6%95%B0">date_parse函数</a></td><td>date_parse( <em>x</em> , <em>format</em> )</td><td>将日期和时间字符串转换为指定格式的timestamp类型的日期和时间表达式。</td></tr><tr><td>日期和时间函数</td><td><a href="#from_iso8601_date%E5%87%BD%E6%95%B0">from_iso8601_date函数</a></td><td>from_iso8601_date( <em>x</em> )</td><td>将ISO8601格式的日期表达式转化为date类型的日期表达式。</td></tr><tr><td>日期和时间函数</td><td><a href="#from_iso8601_timestamp%E5%87%BD%E6%95%B0">from_iso8601_timestamp函数</a></td><td>from_iso8601_timestamp( <em>x</em> )</td><td>将ISO8601格式的日期和时间表达式转化为timestamp类型的日期和时间表达式。</td></tr><tr><td>日期和时间函数</td><td><a href="#from_unixtime%E5%87%BD%E6%95%B0">from_unixtime函数</a></td><td>from_unixtime( <em>x</em> )</td><td>将UNIX时间戳转化为无时区的timestamp类型的日期和时间表达式。</td></tr><tr><td>日期和时间函数</td><td><a href="#from_unixtime%E5%87%BD%E6%95%B0">from_unixtime函数</a></td><td>from_unixtime( <em>x</em> , <em>time zone</em> )</td><td>将UNIX时间戳转化为带时区的timestamp类型的日期和时间表达式。</td></tr><tr><td>日期和时间函数</td><td><a href="#from_unixtime%E5%87%BD%E6%95%B0">from_unixtime函数</a></td><td>from_unixtime( <em>x</em> , <em>hours</em> , <em>minutes</em> )</td><td>将UNIX时间戳转化为带时区的timestamp类型的日期和时间表达式，其中 <em>hours</em> 和 <em>minutes</em> 为时区偏移量。</td></tr><tr><td>日期和时间函数</td><td><a href="#localtime%E5%87%BD%E6%95%B0">localtime函数</a></td><td>localtime</td><td>返回本地时间。</td></tr><tr><td>日期和时间函数</td><td><a href="#localtimestamp%E5%87%BD%E6%95%B0">localtimestamp函数</a></td><td>localtimestamp</td><td>返回本地日期和时间。</td></tr><tr><td>日期和时间函数</td><td><a href="#now%E5%87%BD%E6%95%B0">now函数</a></td><td>now()</td><td>返回当前日期和时间。 now函数等同于current_timestamp函数。</td></tr><tr><td>日期和时间函数</td><td><a href="#to_iso8601%E5%87%BD%E6%95%B0">to_iso8601函数</a></td><td>to_iso8601( <em>x</em> )</td><td>将date类型或timestamp类型的日期和时间表达式转换为ISO8601格式的日期和时间表达式。</td></tr><tr><td>日期和时间函数</td><td><a href="#to_unixtime%E5%87%BD%E6%95%B0">to_unixtime函数</a></td><td>to_unixtime( <em>x</em> )</td><td>将timestamp类型的日期和时间表达式转化成UNIX时间戳。</td></tr><tr><td>日期和时间提取函数</td><td><a href="#day%E5%87%BD%E6%95%B0">day函数</a></td><td>day( <em>x</em> )</td><td>提取日期和时间表达式中的天数，按月计算。 day函数等同于day_of_month函数。</td></tr><tr><td>日期和时间提取函数</td><td><a href="#day_of_month%E5%87%BD%E6%95%B0">day_of_month函数</a></td><td>day_of_month( <em>x</em> )</td><td>提取日期和时间表达式中的天数，按月计算。 day_of_month函数等同于day函数。</td></tr><tr><td>日期和时间提取函数</td><td><a href="#day_of_week%E5%87%BD%E6%95%B0">day_of_week函数</a></td><td>day_of_week( <em>x</em> )</td><td>提取日期和时间表达式中的天数，按周计算。 day_of_week函数等同于dow函数。</td></tr><tr><td>日期和时间提取函数</td><td><a href="#day_of_year%E5%87%BD%E6%95%B0">day_of_year函数</a></td><td>day_of_year( <em>x</em> )</td><td>提取日期和时间表达式中的天数，按年计算。 day_of_year函数等同于doy函数。</td></tr><tr><td>日期和时间提取函数</td><td><a href="#dow%E5%87%BD%E6%95%B0">dow函数</a></td><td>dow( <em>x</em> )</td><td>提取日期和时间表达式中的天数，按周计算。 dow函数等同于day_of_week函数。</td></tr><tr><td>日期和时间提取函数</td><td><a href="#doy%E5%87%BD%E6%95%B0">doy函数</a></td><td>doy( <em>x</em> )</td><td>提取日期和时间表达式中的天数，按年计算。 doy函数等同于day_of_year函数。</td></tr><tr><td>日期和时间提取函数</td><td><a href="#extract%E5%87%BD%E6%95%B0">extract函数</a></td><td>extract( <em>field</em> from <em>x</em> )</td><td>通过指定的 <em>field</em> ，提取日期和时间表达式中的日期或时间部分。</td></tr><tr><td>日期和时间提取函数</td><td><a href="#hour%E5%87%BD%E6%95%B0">hour函数</a></td><td>hour( <em>x</em> )</td><td>提取日期和时间表达式中的小时数，按24小时制计算。</td></tr><tr><td>日期和时间提取函数</td><td><a href="#minute%E5%87%BD%E6%95%B0">minute函数</a></td><td>minute( <em>x</em> )</td><td>提取日期和时间表达式中的分钟数。</td></tr><tr><td>日期和时间提取函数</td><td><a href="#month%E5%87%BD%E6%95%B0">month函数</a></td><td>month( <em>x</em> )</td><td>提取日期和时间表达式中的月份。</td></tr><tr><td>日期和时间提取函数</td><td><a href="#quarter%E5%87%BD%E6%95%B0">quarter函数</a></td><td>quarter( <em>x</em> )</td><td>计算目标日期所属的季度。</td></tr><tr><td>日期和时间提取函数</td><td><a href="#second%E5%87%BD%E6%95%B0">second函数</a></td><td>second( <em>x</em> )</td><td>提取日期和时间表达式中的秒数。</td></tr><tr><td>日期和时间提取函数</td><td><a href="#timezone_hour%E5%87%BD%E6%95%B0">timezone_hour函数</a></td><td>timezone_hour( <em>x</em> )</td><td>计算时区的小时偏移量。</td></tr><tr><td>日期和时间提取函数</td><td><a href="#timezone_minute%E5%87%BD%E6%95%B0">timezone_minute函数</a></td><td>timezone_minute( <em>x</em> )</td><td>计算时区的分钟偏移量。</td></tr><tr><td>日期和时间提取函数</td><td><a href="#week%E5%87%BD%E6%95%B0">week函数</a></td><td>week( <em>x</em> )</td><td>计算目标日期是在一年中的第几周。 week函数等同于week_of_year函数。</td></tr><tr><td>日期和时间提取函数</td><td><a href="#week_of_year%E5%87%BD%E6%95%B0">week_of_year函数</a></td><td>week_of_year( <em>x</em> )</td><td>计算目标日期是在一年中的第几周。 week_of_year函数等同于week函数。</td></tr><tr><td>日期和时间提取函数</td><td><a href="#year%E5%87%BD%E6%95%B0">year函数</a></td><td>year( <em>x</em> )</td><td>提取目标日期中的年份。</td></tr><tr><td>日期和时间提取函数</td><td><a href="#year_of_week%E5%87%BD%E6%95%B0">year_of_week函数</a></td><td>year_of_week( <em>x</em> )</td><td>提取目标日期在ISO周日历中的年份。 year_of_week函数等同于yow函数。</td></tr><tr><td>日期和时间提取函数</td><td><a href="#yow%E5%87%BD%E6%95%B0">yow函数</a></td><td>yow( <em>x</em> )</td><td>提取目标日期在ISO周日历中的年份。 yow函数等同于year_of_week函数。</td></tr><tr><td>时间间隔函数</td><td><a href="#date_trunc%E5%87%BD%E6%95%B0">date_trunc函数</a></td><td>date_trunc(unit, <em>x</em> )</td><td>根据您指定的时间单位截断日期和时间表达式，并按照毫秒、秒、分钟，小时、日、月或年对齐。</td></tr><tr><td>时间间隔函数</td><td><a href="#date_add%E5%87%BD%E6%95%B0">date_add函数</a></td><td>date_add( <em>unit</em> , <em>N</em> , <em>x</em> )</td><td>在 <em>x</em> 上加上N个时间单位（unit）。</td></tr><tr><td>时间间隔函数</td><td><a href="#date_diff%E5%87%BD%E6%95%B0">date_diff函数</a></td><td>date_diff( <em>unit</em> , <em>x</em> , <em>y</em> )</td><td>返回两个时间表达式之间的时间差值，例如计算 <em>x</em> 和 <em>y</em> 之间相差几个时间单位（unit）。</td></tr><tr><td>时序补全函数</td><td><a href="#time_series%E5%87%BD%E6%95%B0">time_series函数</a></td><td>time_series( <em>x</em> , <em>window</em> , <em>format</em> , <em>padding_data</em> )</td><td>补全您查询时间窗口内缺失的数据。</td></tr></tbody></table><h1 id="案例" tabindex="-1">案例 <a class="header-anchor" href="#案例" aria-hidden="true">#</a></h1><h2 id="current-date函数" tabindex="-1">current_date函数 <a class="header-anchor" href="#current-date函数" aria-hidden="true">#</a></h2><p>current_date函数用于返回当前日期，格式为YYYY-MM-DD。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">current_date</span></span>
<span class="line"></span></code></pre></div><p>date类型。</p><p>查询昨天的日志。</p><ul><li><p>查询和分析语句</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#F78C6C;">SELECT</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">*</span></span>
<span class="line"><span style="color:#F78C6C;">FROM</span><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">log</span></span>
<span class="line"><span style="color:#F78C6C;">WHERE</span></span>
<span class="line"><span style="color:#A6ACCD;">  __time__ </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> to_unixtime(current_date)</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">AND</span><span style="color:#A6ACCD;"> __time__ </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> to_unixtime(date_add(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">day</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">, current_date))</span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析结果</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/6632296261/p295473.png" alt="current_date"></p></li></ul><h2 id="current-time函数" tabindex="-1">current_time函数 <a class="header-anchor" href="#current-time函数" aria-hidden="true">#</a></h2><p>current_time函数用于返回当前时间和时区，格式为HH:MM:SS.Ms Time_zone。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#82AAFF;">current_time</span></span>
<span class="line"></span></code></pre></div><p>time类型。</p><p>查询当前时间和时区。</p><ul><li><p>查询和分析语句</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> | </span><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">current_time</span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析结果</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/3049136261/p294652.png" alt="current_time"></p></li></ul><h2 id="current-timestamp函数" tabindex="-1">current_timestamp函数 <a class="header-anchor" href="#current-timestamp函数" aria-hidden="true">#</a></h2><p>current_timestamp函数用于返回当前日期、时间和时区，格式为YYYY-MM-DD HH:MM:SS.Ms Time_zone。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#82AAFF;">current_timestamp</span></span>
<span class="line"></span></code></pre></div><p>timestamp类型。</p><p>查询昨天的日志。</p><ul><li><p>查询和分析语句</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#F78C6C;">SELECT</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">*</span></span>
<span class="line"><span style="color:#F78C6C;">FROM</span><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">log</span></span>
<span class="line"><span style="color:#F78C6C;">WHERE</span></span>
<span class="line"><span style="color:#A6ACCD;">  __time__ </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> to_unixtime(</span><span style="color:#82AAFF;">current_timestamp</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">AND</span><span style="color:#A6ACCD;"> __time__ </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> to_unixtime(date_add(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">day</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">, </span><span style="color:#82AAFF;">current_timestamp</span><span style="color:#A6ACCD;">))</span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析结果</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/6632296261/p295473.png" alt="current_date"></p></li></ul><h2 id="current-timezone函数" tabindex="-1">current_timezone函数 <a class="header-anchor" href="#current-timezone函数" aria-hidden="true">#</a></h2><p>current_timezone函数用于返回当前时区。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">current_timezone</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre></div><p>varchar类型。</p><p>查询当前的时区。</p><ul><li><p>查询和分析语句</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> | </span><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> current_timezone</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析结果</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/3049136261/p294665.png" alt="current_timezone"></p></li></ul><h2 id="date函数" tabindex="-1">date函数 <a class="header-anchor" href="#date函数" aria-hidden="true">#</a></h2><p>date函数用于提取日期和时间表达式中的日期部分。date函数等同于<code>cast(</code> <em>x</em><code> as date)</code>。更多信息，请参见<a href="./t13115.html#concept-v55-4lq-zdb">类型转换函数</a>。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#F78C6C;">date</span><span style="color:#A6ACCD;">(x)</span></span>
<span class="line"></span></code></pre></div><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><em>x</em></td><td>参数值为date、timestamp类型。</td></tr></tbody></table><p>date类型。</p><p>使用current_timestamp函数获取当前日期和时间，然后使用date函数提取日期部分。</p><ul><li><p>查询和分析语句</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> | </span><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">current_timestamp</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">date</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">current_timestamp</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析结果</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/7631001361/p319524.png" alt="date"></p></li></ul><h2 id="date-format函数" tabindex="-1">date_format函数 <a class="header-anchor" href="#date-format函数" aria-hidden="true">#</a></h2><p>date_format函数用于将timestamp类型的日期和时间表达式转换为指定格式的日期和时间字符串。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#F78C6C;">date_format</span><span style="color:#A6ACCD;">(x, </span><span style="color:#82AAFF;">format</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><em>x</em></td><td>参数值为timestamp类型的日期和时间表达式。</td></tr><tr><td><em>format</em></td><td>日期和时间表达式的转换格式。更多信息，请参见<a href="#LogService-user-guide-0110/section-8g8-2xm-kdv">format说明</a>。</td></tr></tbody></table><p>varchar类型。</p><p>计算Nginx请求状态及数量，并根据时间顺序展示。首先通过date_trunc函数将日志时间按照分钟对齐，再使用date_format函数转换为<code>%H:%i</code>格式，然后计算每分钟内每个状态码对应的请求数量，并以流图展示查询和分析结果。</p><ul><li><p>查询和分析语句</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#F78C6C;">SELECT</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">date_format</span><span style="color:#A6ACCD;">(date_trunc(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">minute</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, __time__), </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%H:%i</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">AS</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">time</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">COUNT</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">AS</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">count</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">status</span></span>
<span class="line"><span style="color:#F78C6C;">GROUP BY</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">time</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">status</span></span>
<span class="line"><span style="color:#F78C6C;">ORDER BY</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">time</span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析结果</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/7632296261/p296431.png" alt="date_format"></p></li></ul><h2 id="date-parse函数" tabindex="-1">date_parse函数 <a class="header-anchor" href="#date-parse函数" aria-hidden="true">#</a></h2><p>date_parse函数用于将日期和时间字符串转换为指定格式的timestamp类型的日期和时间表达式。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">date_parse(x, </span><span style="color:#82AAFF;">format</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><em>x</em></td><td>参数值为日期和时间字符串。</td></tr><tr><td><em>format</em></td><td>日期和时间表达式的转换格式。更多信息，请参见<a href="#LogService-user-guide-0110/section-8g8-2xm-kdv">format说明</a>。</td></tr></tbody></table><p>timestamp类型。</p><p>将StartTime字段值和EndTime字段值转换为timestamp类型，并计算两者的时间差。</p><ul><li><p>查询和分析语句</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki has-diff"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;">|</span></span>
<span class="line"><span style="color:#F78C6C;">SELECT</span></span>
<span class="line"><span style="color:#A6ACCD;">    date_parse(StartTime, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%Y-%m-%d %H:%i</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">AS</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">StartTime</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    date_parse(EndTime, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%Y-%m-%d %H:%i</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">AS</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">EndTime</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    date_diff(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hour</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, StartTime, EndTime) </span><span style="color:#F78C6C;">AS</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">时间差(小时)</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析结果</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/7632296261/p297055.png" alt=" date_parse("></p></li></ul><h2 id="from-iso8601-date函数" tabindex="-1">from_iso8601_date函数 <a class="header-anchor" href="#from-iso8601-date函数" aria-hidden="true">#</a></h2><p>from_iso8601_date函数用于将ISO8601格式的日期表达式转化为date类型的日期表达式，格式为YYYY-MM-DD。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">from_iso8601_date(x)</span></span>
<span class="line"></span></code></pre></div><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><em>x</em></td><td>参数值为ISO8601格式的日期表达式。</td></tr></tbody></table><p>date类型。</p><p>将time字段的值转换为date类型的日期表达式。</p><ul><li><p>字段样例</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#F78C6C;">time</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">2020</span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">05</span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">03</span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析语句</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> | </span><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> from_iso8601_date(</span><span style="color:#F78C6C;">time</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析结果</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/6632296261/p296884.png" alt="from_iso8601_date"></p></li></ul><h2 id="from-iso8601-timestamp函数" tabindex="-1">from_iso8601_timestamp函数 <a class="header-anchor" href="#from-iso8601-timestamp函数" aria-hidden="true">#</a></h2><p>from_iso8601_timestamp函数用于将ISO8601格式的日期和时间表达式转化为timestamp类型的日期和时间表达式，格式为YYYY-MM-DD HH:MM:SS.Ms Time_zone。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">from_iso8601_timestamp(x)</span></span>
<span class="line"></span></code></pre></div><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><em>x</em></td><td>参数值为ISO8601格式的日期和时间表达式。</td></tr></tbody></table><p>timestamp类型。</p><p>将time字段的值转换为timestamp类型的日期和时间表达式。</p><ul><li><p>字段样例</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#F78C6C;">time</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">2020</span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">05</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">03T17:</span><span style="color:#F78C6C;">30</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">08</span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析语句</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> | </span><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> from_iso8601_timestamp(</span><span style="color:#F78C6C;">time</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析结果</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/6632296261/p296867.png" alt="from_iso8601_timestamp"></p></li></ul><h2 id="from-unixtime函数" tabindex="-1">from_unixtime函数 <a class="header-anchor" href="#from-unixtime函数" aria-hidden="true">#</a></h2><p>from_unixtime函数用于将UNIX时间戳转化为timestamp类型的日期和时间表达式，格式为YYYY-MM-DD HH:MM:SS.Ms或YYYY-MM-DD HH:MM:SS.Ms Time_zone。</p><ul><li><p>转化为无时区的timestamp类型的日期和时间表达式</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">from_unixtime(x)</span></span>
<span class="line"></span></code></pre></div></li><li><p>转化为带时区的timestamp类型的日期和时间表达式</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">from_unixtime(x,</span><span style="color:#F78C6C;">time</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">zone</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div></li><li><p>转化为带时区的timestamp类型的日期和时间表达式，其中 <em>hours</em> 和 <em>minutes</em> 为时区偏移量。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">from_unixtime(x, </span><span style="color:#F78C6C;">hours</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">minutes</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div></li></ul><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><em>x</em></td><td>参数值为UNIX时间戳。</td></tr><tr><td><em>time zone</em></td><td>时区，例如Asia/shanghai。</td></tr><tr><td><em>hours</em></td><td>时区的小时偏移量，例如+07、-09</td></tr><tr><td><em>minutes</em></td><td>时区的分钟偏移量，例如+30、-45。</td></tr></tbody></table><p>timestamp类型。</p><p>将time字段的值转化为带时区的timestamp类型的日期和时间表达式。</p><ul><li><p>字段样例</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#F78C6C;">time</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">1626774758</span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析语句</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> | </span><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> from_unixtime(</span><span style="color:#F78C6C;">time</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Asia/shanghai</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析结果</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/6632296261/p296879.png" alt="from_unixtime"></p></li></ul><h2 id="localtime函数" tabindex="-1">localtime函数 <a class="header-anchor" href="#localtime函数" aria-hidden="true">#</a></h2><p>localtime函数用于返回本地时间，格式为HH:MM:SS.Ms。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">localtime</span></span>
<span class="line"></span></code></pre></div><p>time类型。</p><p>查询本地时间。</p><ul><li><p>查询和分析语句</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> | </span><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> localtime</span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析结果</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/6632296261/p296880.png" alt="localtime"></p></li></ul><h2 id="localtimestamp函数" tabindex="-1">localtimestamp函数 <a class="header-anchor" href="#localtimestamp函数" aria-hidden="true">#</a></h2><p>localtimestamp函数用于返回本地的日期和时间，格式为YYYY-MM-DD HH:MM:SS.Ms Time_zone。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">localtimestamp</span></span>
<span class="line"></span></code></pre></div><p>timestamp类型。</p><p>查询昨天的日志。</p><ul><li><p>查询和分析语句</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#F78C6C;">SELECT</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">*</span></span>
<span class="line"><span style="color:#F78C6C;">FROM</span><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">log</span></span>
<span class="line"><span style="color:#F78C6C;">WHERE</span></span>
<span class="line"><span style="color:#A6ACCD;">  __time__ </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> to_unixtime(localtimestamp)</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">AND</span><span style="color:#A6ACCD;"> __time__ </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> to_unixtime(date_add(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">day</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">, localtimestamp))</span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析结果</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/6632296261/p295473.png" alt="current_date"></p></li></ul><h2 id="now函数" tabindex="-1">now函数 <a class="header-anchor" href="#now函数" aria-hidden="true">#</a></h2><p>now函数用于返回当前日期和时间，格式为YYYY-MM-DD HH:MM:SS.Ms Time_zone。now函数等同于current_timestamp函数。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#F78C6C;">now</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre></div><p>timestamp类型。</p><p>查询昨天的日志。</p><ul><li><p>查询和分析语句</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#F78C6C;">SELECT</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">*</span></span>
<span class="line"><span style="color:#F78C6C;">FROM</span><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">log</span></span>
<span class="line"><span style="color:#F78C6C;">WHERE</span></span>
<span class="line"><span style="color:#A6ACCD;">  __time__ </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> to_unixtime(</span><span style="color:#F78C6C;">now</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">AND</span><span style="color:#A6ACCD;"> __time__ </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> to_unixtime(date_add(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">day</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">now</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">))</span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析结果</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/6632296261/p295473.png" alt="current_date"></p></li></ul><h2 id="to-iso8601函数" tabindex="-1">to_iso8601函数 <a class="header-anchor" href="#to-iso8601函数" aria-hidden="true">#</a></h2><p>to_iso8601函数用于将date类型或timestamp类型的日期和时间表达式转换为ISO8601格式的日期和时间表达式。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">to_iso8601(x)</span></span>
<span class="line"></span></code></pre></div><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><em>x</em></td><td>参数值为date、timestamp类型。</td></tr></tbody></table><p>varchar类型。</p><p>使用current_timestamp函数获取当前日期和时间，然后使用to_iso8601函数将当前的日期和时间表达式转换为ISO8601格式的日期和时间表达式。</p><ul><li><p>查询和分析语句</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> | </span><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> to_iso8601(</span><span style="color:#82AAFF;">current_timestamp</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">AS</span><span style="color:#A6ACCD;"> ISO8601</span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析结果</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/5075980361/p319567.png" alt="to_iso8601"></p></li></ul><h2 id="to-unixtime函数" tabindex="-1">to_unixtime函数 <a class="header-anchor" href="#to-unixtime函数" aria-hidden="true">#</a></h2><p>to_unixtime函数用于将timestamp类型的日期和时间表达式转化成UNIX时间戳。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">to_unixtime(x)</span></span>
<span class="line"></span></code></pre></div><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><em>x</em></td><td>参数值为timestamp类型的日期和时间表达式。</td></tr></tbody></table><p>double类型。</p><p>查询昨天的日志。</p><ul><li><p>查询和分析语句</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#F78C6C;">SELECT</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">*</span></span>
<span class="line"><span style="color:#F78C6C;">FROM</span><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">log</span></span>
<span class="line"><span style="color:#F78C6C;">WHERE</span></span>
<span class="line"><span style="color:#A6ACCD;">  __time__ </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> to_unixtime(</span><span style="color:#F78C6C;">now</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">AND</span><span style="color:#A6ACCD;"> __time__ </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> to_unixtime(date_add(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">day</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">now</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">))</span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析结果</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/6632296261/p295473.png" alt="current_date"></p></li></ul><h2 id="day函数" tabindex="-1">day函数 <a class="header-anchor" href="#day函数" aria-hidden="true">#</a></h2><p>day函数用于提取日期和时间表达式中的天数，按月计算。day函数等同于day_of_month函数。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#82AAFF;">day</span><span style="color:#A6ACCD;">(x)</span></span>
<span class="line"></span></code></pre></div><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><em>x</em></td><td>参数值为timestamp、date类型。</td></tr></tbody></table><p>bigint类型。</p><p>使用current_date函数获取当前日期，然后使用day函数提取当前日期为本月的第几天。</p><ul><li><p>查询和分析语句</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> | </span><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> current_date, </span><span style="color:#82AAFF;">day</span><span style="color:#A6ACCD;">(current_date)</span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析结果</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/6932890361/p319585.png" alt="day"></p></li></ul><h2 id="day-of-month函数" tabindex="-1">day_of_month函数 <a class="header-anchor" href="#day-of-month函数" aria-hidden="true">#</a></h2><p>day_of_month函数用于提取日期和时间表达式中的天数，按月计算。day_of_month函数等同于day函数。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">day_of_month(x)</span></span>
<span class="line"></span></code></pre></div><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><em>x</em></td><td>参数值为timestamp、date类型。</td></tr></tbody></table><p>bigint类型。</p><p>使用current_date函数获取当前日期，然后使用day_of_month函数提取当前日期为本月的第几天。</p><ul><li><p>查询和分析语句</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> | </span><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> current_date, day_of_month(current_date)</span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析结果</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/6932890361/p319585.png" alt="day"></p></li></ul><h2 id="day-of-week函数" tabindex="-1">day_of_week函数 <a class="header-anchor" href="#day-of-week函数" aria-hidden="true">#</a></h2><p>day_of_week函数用于提取日期和时间表达式中的天数，按周计算。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">day_of_week(x)</span></span>
<span class="line"></span></code></pre></div><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><em>x</em></td><td>参数值为timestamp、date类型。</td></tr></tbody></table><p>bigint类型。</p><p>使用current_date函数获取当前日期，然后使用day_of_week函数提取当前日期为本周的第几天。</p><ul><li><p>查询和分析语句</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> | </span><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> current_date, day_of_week(current_date)</span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析结果</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/6932890361/p324130.png" alt="day_of_week"></p></li></ul><h2 id="day-of-year函数" tabindex="-1">day_of_year函数 <a class="header-anchor" href="#day-of-year函数" aria-hidden="true">#</a></h2><p>day_of_year函数用于提取日期和时间表达式中的天数，按年计算。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">day_of_year(x)</span></span>
<span class="line"></span></code></pre></div><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><em>x</em></td><td>参数值为timestamp、date类型。</td></tr></tbody></table><p>bigint类型。</p><p>使用current_date函数获取当前日期，然后使用day_of_year函数提取当前日期为本年的第几天。</p><ul><li><p>查询和分析语句</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> | </span><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> current_date, day_of_year(current_date)</span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析结果</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/3856990361/p324135.png" alt="day_of_year"></p></li></ul><h2 id="dow函数" tabindex="-1">dow函数 <a class="header-anchor" href="#dow函数" aria-hidden="true">#</a></h2><p>dow函数用于提取日期和时间表达式中的天数，按周计算。dow函数等同于day_of_week函数。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">dow(x)</span></span>
<span class="line"></span></code></pre></div><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><em>x</em></td><td>参数值为timestamp、date类型。</td></tr></tbody></table><p>bigint类型。</p><p>使用current_date函数获取当前日期，然后使用dow函数提取当前日期为本周的第几天。</p><ul><li><p>查询和分析语句</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> | </span><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> current_date, dow(current_date)</span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析结果</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/6932890361/p324130.png" alt="day_of_week"></p></li></ul><h2 id="doy函数" tabindex="-1">doy函数 <a class="header-anchor" href="#doy函数" aria-hidden="true">#</a></h2><p>doy函数用于提取日期和时间表达式中的天数，按年计算。doy函数等同于day_of_year函数。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">doy(x)</span></span>
<span class="line"></span></code></pre></div><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><em>x</em></td><td>参数值为timestamp、date类型。</td></tr></tbody></table><p>bigint类型。</p><p>使用current_date函数获取当前日期，然后使用doy函数提取当前日期为本年的第几天。</p><ul><li><p>查询和分析语句</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> | </span><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> current_date, doy(current_date)</span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析结果</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/3856990361/p324135.png" alt="day_of_year"></p></li></ul><h2 id="extract函数" tabindex="-1">extract函数 <a class="header-anchor" href="#extract函数" aria-hidden="true">#</a></h2><p>extract函数通过指定的 <em>field</em> ，提取日期和时间表达式中的日期或时间部分。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">extract(field </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> x)</span></span>
<span class="line"></span></code></pre></div><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><em>field</em></td><td>取值为year、quarter、month、week、day、day_of_month、day_of_week、dow、day_of_year、doy、year_of_week、yow、hour、minute、second、timezone_hour、timezone_minute。</td></tr><tr><td><em>x</em></td><td>参数值为date、time、timestamp、interval (actual varchar(9)) 类型。</td></tr></tbody></table><p>bigint类型。</p><p>使用current_date函数获取当前日期，然后使用extract函数提取当前日期中的年份。</p><ul><li><p>查询和分析语句</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> | </span><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> extract(</span><span style="color:#82AAFF;">year</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> current_date)</span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析结果</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/3856990361/p324242.png" alt="extract"></p></li></ul><h2 id="hour函数" tabindex="-1">hour函数 <a class="header-anchor" href="#hour函数" aria-hidden="true">#</a></h2><p>hour函数用于提取日期和时间表达式中的小时数，按24小时制计算。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">hour(x)</span></span>
<span class="line"></span></code></pre></div><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><em>x</em></td><td>参数值为timestamp类型。</td></tr></tbody></table><p>bigint类型。</p><p>使用current_timestamp函数获取当前日期和时间，然后使用hour函数提取当前时间的小时数。</p><ul><li><p>查询和分析语句</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> | </span><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">current_timestamp</span><span style="color:#A6ACCD;">, hour(</span><span style="color:#82AAFF;">current_timestamp</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析结果</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/3856990361/p324157.png" alt="hour"></p></li></ul><h2 id="minute函数" tabindex="-1">minute函数 <a class="header-anchor" href="#minute函数" aria-hidden="true">#</a></h2><p>minute函数用于提取日期和时间表达式中的分钟数。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">minute(x)</span></span>
<span class="line"></span></code></pre></div><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><em>x</em></td><td>参数值为timestamp类型。</td></tr></tbody></table><p>bigint类型。</p><p>使用current_timestamp函数获取当前日期和时间，然后使用minute函数提取当前时间的分钟数。</p><ul><li><p>查询和分析语句</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> | </span><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">current_timestamp</span><span style="color:#A6ACCD;">, minute(</span><span style="color:#82AAFF;">current_timestamp</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析结果</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/3856990361/p324178.png" alt="minute"></p></li></ul><h2 id="month函数" tabindex="-1">month函数 <a class="header-anchor" href="#month函数" aria-hidden="true">#</a></h2><p>month函数用于提取日期和时间表达式中的月份。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#82AAFF;">month</span><span style="color:#A6ACCD;">(x)</span></span>
<span class="line"></span></code></pre></div><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><em>x</em></td><td>参数值为date、timestamp类型。</td></tr></tbody></table><p>bigint类型。</p><p>使用current_timestamp函数获取当前日期和时间，然后使用month函数提取当前日期所属的月份。</p><ul><li><p>查询和分析语句</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> | </span><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">current_timestamp</span><span style="color:#A6ACCD;">, </span><span style="color:#82AAFF;">month</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">current_timestamp</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析结果</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/3856990361/p324172.png" alt="month"></p></li></ul><h2 id="quarter函数" tabindex="-1">quarter函数 <a class="header-anchor" href="#quarter函数" aria-hidden="true">#</a></h2><p>quarter函数用于返回日期所属的季度。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">quarter(x)</span></span>
<span class="line"></span></code></pre></div><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><em>x</em></td><td>参数值为date、timestamp类型。</td></tr></tbody></table><p>bigint类型。</p><p>使用current_timestamp函数获取当前日期和时间，然后使用quarter函数计算当前日期所属的季度。</p><ul><li><p>查询和分析语句</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> | </span><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">current_timestamp</span><span style="color:#A6ACCD;">,quarter(</span><span style="color:#82AAFF;">current_timestamp</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析结果</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/4856990361/p324189.png" alt="quarter"></p></li></ul><h2 id="second函数" tabindex="-1">second函数 <a class="header-anchor" href="#second函数" aria-hidden="true">#</a></h2><p>second函数用于提取日期和时间表达式中的秒数。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">second(x)</span></span>
<span class="line"></span></code></pre></div><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><em>x</em></td><td>参数值为timestamp类型。</td></tr></tbody></table><p>bigint类型。</p><p>使用current_timestamp函数获取当前日期和时间，然后使用second函数提取当前时间的秒数。</p><ul><li><p>查询和分析语句</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> | </span><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">current_timestamp</span><span style="color:#A6ACCD;">,second(</span><span style="color:#82AAFF;">current_timestamp</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析结果</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/4856990361/p324199.png" alt="second"></p></li></ul><h2 id="timezone-hour函数" tabindex="-1">timezone_hour函数 <a class="header-anchor" href="#timezone-hour函数" aria-hidden="true">#</a></h2><p>timezone_hour函数用于计算时区的小时偏移量。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">timezone_hour(x)</span></span>
<span class="line"></span></code></pre></div><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><em>x</em></td><td>参数值为timestamp类型。</td></tr></tbody></table><p>bigint类型。</p><p>使用current_timestamp函数获取当前日期和时间，然后使用timezone_hour函数计算当前时间所属时区的小时偏移量。</p><ul><li><p>查询和分析语句</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> | </span><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">current_timestamp</span><span style="color:#A6ACCD;">, timezone_hour(</span><span style="color:#82AAFF;">current_timestamp</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析结果</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/4856990361/p324206.png" alt="timezone_hour"></p></li></ul><h2 id="timezone-minute函数" tabindex="-1">timezone_minute函数 <a class="header-anchor" href="#timezone-minute函数" aria-hidden="true">#</a></h2><p>timezone_minute函数用于计算时区的分钟偏移量。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">timezone_minute(x)</span></span>
<span class="line"></span></code></pre></div><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><em>x</em></td><td>参数值为timestamp类型。</td></tr></tbody></table><p>bigint类型。</p><p>使用current_timestamp函数获取当前日期和时间，然后使用timezone_minute函数计算当前时间所属时区的分钟偏移量。</p><ul><li><p>查询和分析语句</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> | </span><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">current_timestamp</span><span style="color:#A6ACCD;">,timezone_minute(</span><span style="color:#82AAFF;">current_timestamp</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析结果</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/4856990361/p324211.png" alt="timezone_minute"></p></li></ul><h2 id="week函数" tabindex="-1">week函数 <a class="header-anchor" href="#week函数" aria-hidden="true">#</a></h2><p>week函数用于计算目标日期是在一年中的第几周。week函数等同于week_of_year函数。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">week(x)</span></span>
<span class="line"></span></code></pre></div><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><em>x</em></td><td>参数值为date、timestamp类型。</td></tr></tbody></table><p>bigint类型。</p><p>使用current_timestamp函数获取当前日期和时间，然后使用week函数计算当前日期是一年中的第几周。</p><ul><li><p>查询和分析语句</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> | </span><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">current_timestamp</span><span style="color:#A6ACCD;">, week(</span><span style="color:#82AAFF;">current_timestamp</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析结果</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/4856990361/p324222.png" alt="week"></p></li></ul><h2 id="week-of-year函数" tabindex="-1">week_of_year函数 <a class="header-anchor" href="#week-of-year函数" aria-hidden="true">#</a></h2><p>week_of_year函数用于计算目标日期是在一年中的第几周。week_of_year函数等同于week函数。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">week_of_year(x)</span></span>
<span class="line"></span></code></pre></div><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><em>x</em></td><td>参数值为date、timestamp类型。</td></tr></tbody></table><p>bigint类型。</p><p>使用current_timestamp函数获取当前日期和时间，然后使用week_of_year函数计算当前日期是一年中的第几周。</p><ul><li><p>查询和分析语句</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> | </span><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">current_timestamp</span><span style="color:#A6ACCD;">, week_of_year(</span><span style="color:#82AAFF;">current_timestamp</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析结果</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/4856990361/p324222.png" alt="week"></p></li></ul><h2 id="year函数" tabindex="-1">year函数 <a class="header-anchor" href="#year函数" aria-hidden="true">#</a></h2><p>year函数用于提取目标日期中的年份。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#82AAFF;">year</span><span style="color:#A6ACCD;">(x)</span></span>
<span class="line"></span></code></pre></div><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><em>x</em></td><td>参数值为date、timestamp类型。</td></tr></tbody></table><p>bigint类型。</p><p>使用current_timestamp函数获取当前日期和时间，然后使用year函数提取当前日期中的年份。</p><ul><li><p>查询和分析语句</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> | </span><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">current_timestamp</span><span style="color:#A6ACCD;">,</span><span style="color:#82AAFF;">year</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">current_timestamp</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析结果</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/4856990361/p324224.png" alt="year"></p></li></ul><h2 id="year-of-week函数" tabindex="-1">year_of_week函数 <a class="header-anchor" href="#year-of-week函数" aria-hidden="true">#</a></h2><p>year_of_week函数用于返回目标日期在ISO周日历中的年份。year_of_week函数等同于yow函数。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">year_of_week(x)</span></span>
<span class="line"></span></code></pre></div><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><em>x</em></td><td>参数值为date、timestamp类型。</td></tr></tbody></table><p>bigint类型。</p><p>使用current_timestamp函数获取当前日期和时间，然后使用year_of_week函数返回当前日期在ISO周日历中的年份。</p><ul><li><p>查询和分析语句</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> | </span><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">current_timestamp</span><span style="color:#A6ACCD;">,year_of_week(</span><span style="color:#82AAFF;">current_timestamp</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析结果</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/4856990361/p324228.png" alt="year_of_week"></p></li></ul><h2 id="yow函数" tabindex="-1">yow函数 <a class="header-anchor" href="#yow函数" aria-hidden="true">#</a></h2><p>yow函数用于返回目标日期在ISO周日历中的年份。yow函数等同于year_of_week函数。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">yow(x)</span></span>
<span class="line"></span></code></pre></div><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><em>x</em></td><td>参数值为date、timestamp类型。</td></tr></tbody></table><p>bigint类型。</p><p>使用current_timestamp函数获取当前日期和时间，然后使用yow函数返回当前日期在ISO周日历中的年份。</p><ul><li><p>查询和分析语句</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> | </span><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">current_timestamp</span><span style="color:#A6ACCD;">, yow(</span><span style="color:#82AAFF;">current_timestamp</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析结果</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/4856990361/p324228.png" alt="year_of_week"></p></li></ul><h2 id="date-trunc函数" tabindex="-1">date_trunc函数 <a class="header-anchor" href="#date-trunc函数" aria-hidden="true">#</a></h2><p>date_trunc函数会根据您指定的时间单位截断日期和时间表达式，并按照毫秒、秒、分钟，小时、日、月或年对齐。该函数常用于需要按照时间进行统计分析的场景。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">date_trunc(unit, x)</span></span>
<span class="line"></span></code></pre></div><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><em>unit</em></td><td>时间单位，取值为millisecond、second、minute、hour、day、week、month、quarter、year。更多信息，请参见<a href="#LogService-user-guide-0110/section-z07-k3z-j0l">unit说明</a>。</td></tr><tr><td><em>x</em></td><td>参数值为日期和时间表达式。</td></tr></tbody></table><p><strong>说明</strong> date_trunc函数只能按照固定的时间间隔统计（例如每分钟、每小时等）。如果您需要按照灵活的时间维度统计，请使用数学取模方法进行分组，例如统计每5分钟的数据。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> | </span><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">count</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">AS</span><span style="color:#A6ACCD;"> pv,  __time__ </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> __time__ %</span><span style="color:#F78C6C;">300</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">AS</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">time</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">GROUP BY</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">time</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">LIMIT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100</span></span>
<span class="line"></span></code></pre></div><p>与参数值的类型一致。</p><p>按照每分钟的时间粒度计算请求时间的平均值，并按照时间进行分组和排序。</p><ul><li><p>查询和分析语句</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#F78C6C;">SELECT</span></span>
<span class="line"><span style="color:#A6ACCD;">  date_trunc(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">minute</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, __time__) </span><span style="color:#F78C6C;">AS</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">time</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">truncate</span><span style="color:#A6ACCD;"> (</span><span style="color:#82AAFF;">avg</span><span style="color:#A6ACCD;">(request_time)) </span><span style="color:#F78C6C;">AS</span><span style="color:#A6ACCD;"> avg_time,</span></span>
<span class="line"><span style="color:#A6ACCD;">  current_date </span><span style="color:#F78C6C;">AS</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">date</span></span>
<span class="line"><span style="color:#F78C6C;">GROUP BY</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">time</span></span>
<span class="line"><span style="color:#F78C6C;">ORDER BY</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">time</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">DESC</span></span>
<span class="line"><span style="color:#F78C6C;">LIMIT</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">100</span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析结果</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/7632296261/p297061.png" alt="date_trunc"></p></li></ul><h2 id="date-add函数" tabindex="-1">date_add函数 <a class="header-anchor" href="#date-add函数" aria-hidden="true">#</a></h2><p>date_add函数用于在日期或时间中添加或减去指定的时间间隔。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">date_add(unit, n, x)</span></span>
<span class="line"></span></code></pre></div><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><em>unit</em></td><td>时间单位，取值为millisecond、second、minute、hour、day、week、month、quarter、year。更多信息，请参见<a href="#LogService-user-guide-0110/section-z07-k3z-j0l">unit说明</a>。</td></tr><tr><td><em>n</em></td><td>时间间隔。</td></tr><tr><td><em>x</em></td><td>参数值为timestamp类型日期和时间表达式。</td></tr></tbody></table><p>timestamp类型。</p><p>查询昨天的日志。</p><ul><li><p>查询和分析语句</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#F78C6C;">SELECT</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">*</span></span>
<span class="line"><span style="color:#F78C6C;">FROM</span><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">log</span></span>
<span class="line"><span style="color:#F78C6C;">WHERE</span></span>
<span class="line"><span style="color:#A6ACCD;">  __time__ </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> to_unixtime(current_date)</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">AND</span><span style="color:#A6ACCD;"> __time__ </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> to_unixtime(date_add(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">day</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">, current_date))</span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析结果</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/6632296261/p295473.png" alt="current_date"></p></li></ul><h2 id="date-diff函数" tabindex="-1">date_diff函数 <a class="header-anchor" href="#date-diff函数" aria-hidden="true">#</a></h2><p>date_diff函数用于计算两个日期或时间之间的差值。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki has-diff"><code><span class="line"><span style="color:#A6ACCD;">date_diff(unit, x, y)</span></span>
<span class="line"></span></code></pre></div><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><em>unit</em></td><td>时间单位，取值为millisecond、second、minute、hour、day、week、month、quarter、year。更多信息，请参见<a href="#LogService-user-guide-0110/section-z07-k3z-j0l">unit说明</a>。</td></tr><tr><td><em>x</em></td><td>参数值为timestamp类型日期和时间表达式。</td></tr><tr><td><em>y</em></td><td>参数值为timestamp类型日期和时间表达式。</td></tr></tbody></table><p>bigint类型。</p><p>通过UsageStartTime字段和UsageEndTime字段计算服务器使用的总时长。</p><ul><li><p>查询和分析语句</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki has-diff"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> | </span><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;">  date_diff(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hour</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, UsageStartTime, UsageEndTime) </span><span style="color:#F78C6C;">AS</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">时间差(小时)</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析结果</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/1896647261/p299364.png" alt="date_diff"></p></li></ul><h2 id="time-series函数" tabindex="-1">time_series函数 <a class="header-anchor" href="#time-series函数" aria-hidden="true">#</a></h2><p>time_series函数用于补全您查询时间窗口内缺失的数据。 <strong>注意</strong> time_series函数必须搭配GROUP BY语法和ORDER BY语法使用，且ORDER BY语法不支持DESC排序方式。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">time_series(x, window_time, </span><span style="color:#82AAFF;">format</span><span style="color:#A6ACCD;">, padding_data)</span></span>
<span class="line"></span></code></pre></div><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><em>x</em></td><td>时间列，例如__time__。时间列的值为long类型或timestamp类型。</td></tr><tr><td><em>window_time</em></td><td>窗口大小，单位为s（秒）、m（分）、h（小时）、d（天）。例如2h、5m、3d。</td></tr><tr><td><em>format</em></td><td>返回结果的时间格式。更多信息，请参见<a href="#LogService-user-guide-0110/section-8g8-2xm-kdv">format说明</a>。</td></tr><tr><td><em>padding_data</em></td><td>补全的内容。包括： * 0：将缺失的值设置为0。 * null：将缺失的值设置为null。 * last：将缺失的值设置了上一个时间点对应的值。 * next：将缺失的值设置了下一个时间点对应的值。 * avg：将缺失的值设置为前后两个时间点的平均值。</td></tr></tbody></table><p>bigint类型。</p><p>按照两个小时的时间粒度进行数据补全，将缺失的值设置为0。</p><ul><li><p>查询和分析语句</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> | </span><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> time_series(__time__, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2h</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%Y-%m-%d %H:%i:%s</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">0</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)  </span><span style="color:#F78C6C;">as</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">time</span><span style="color:#A6ACCD;">, </span><span style="color:#82AAFF;">count</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">as</span><span style="color:#A6ACCD;"> num </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">group by</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">time</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">order by</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">time</span><span style="color:#A6ACCD;">                        </span></span>
<span class="line"></span></code></pre></div></li><li><p>查询和分析结果</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/0942576261/p37530.png" alt="时间补全函数示例图"></p></li></ul><h2 id="format说明" tabindex="-1">format说明 <a class="header-anchor" href="#format说明" aria-hidden="true">#</a></h2><table><thead><tr><th>format</th><th>说明</th></tr></thead><tbody><tr><td>%a</td><td>星期的缩写。例如Sun、Sat。</td></tr><tr><td>%b</td><td>月份的缩写。例如Jan、Dec。</td></tr><tr><td>%c</td><td>月份。数值类型，取值范围为1~12。</td></tr><tr><td>%D</td><td>每月的第几天。需加上后缀，例如0th、1st、2nd、3rd。</td></tr><tr><td>%d</td><td>每月的第几天。十进制格式，取值范围为01~31。</td></tr><tr><td>%e</td><td>每月的第几天。十进制格式，取值范围为1~31。</td></tr><tr><td>%H</td><td>小时，24小时制。</td></tr><tr><td>%h</td><td>小时，12小时制。</td></tr><tr><td>%I</td><td>小时，12小时制。</td></tr><tr><td>%i</td><td>分钟。数值类型，取值范围为00~59。</td></tr><tr><td>%j</td><td>每年的第几天。取值范围为001~366。</td></tr><tr><td>%k</td><td>小时。取值范围为0~23。</td></tr><tr><td>%l</td><td>小时。取值范围为1~12。</td></tr><tr><td>%M</td><td>月份的英文表达，例如January、December。</td></tr><tr><td>%m</td><td>月份。数值格式，取值范围为01~12。</td></tr><tr><td>%p</td><td>AM、PM。</td></tr><tr><td>%r</td><td>时间。12小时制，格式为<code>hh:mm:ss AM/PM</code>。</td></tr><tr><td>%S</td><td>秒。取值范围为00~59。</td></tr><tr><td>%s</td><td>秒。取值范围为00~59。</td></tr><tr><td>%T</td><td>时间。24小时制，格式为<code>hh:mm:ss</code>。</td></tr><tr><td>%V</td><td>每年的第几周，星期日是一周的第一天。取值范围为01~53。</td></tr><tr><td>%v</td><td>每年的第几周，星期一是一周的第一天。取值范围为01~53。</td></tr><tr><td>%W</td><td>星期几的名称。例如Sunday、Saturday。</td></tr><tr><td>%w</td><td>一周的第几天，星期日为第0天。</td></tr><tr><td>%Y</td><td>4位数的年份。例如2020。</td></tr><tr><td>%y</td><td>2位数的年份。例如20。</td></tr><tr><td>%%</td><td>%的转义字符。</td></tr></tbody></table><h2 id="unit说明" tabindex="-1">unit说明 <a class="header-anchor" href="#unit说明" aria-hidden="true">#</a></h2><table><thead><tr><th>unit</th><th>说明</th></tr></thead><tbody><tr><td>millisecond</td><td>毫秒</td></tr><tr><td>second</td><td>秒</td></tr><tr><td>minute</td><td>分钟</td></tr><tr><td>hour</td><td>小时</td></tr><tr><td>day</td><td>天</td></tr><tr><td>week</td><td>周</td></tr><tr><td>month</td><td>月</td></tr><tr><td>quarter</td><td>季度</td></tr><tr><td>year</td><td>年</td></tr></tbody></table></div></div><!----></main><!--[--><!--]--><footer class="VPContentDocFooter" data-v-d1a32bc9 data-v-9eda54bd><!----><a class="next-link" href="/vuepress-vue-theme-blog/vuepress-vue-theme-blog/sqlfun/index.html" data-v-9eda54bd><span class="desc" data-v-9eda54bd>Next <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="vt-link-icon" data-v-9eda54bd><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></span><span class="title" data-v-9eda54bd>函数概览</span></a></footer></div></div></div></div><div class="visually-hidden" aria-live="polite" data-v-c6908a82>介绍 has loaded</div></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"api_application.md\":\"6afd56e1\",\"api_index.md\":\"1dc6444d\",\"api_options-lifecycle.md\":\"917de0d0\",\"api_options-rendering.md\":\"60472e99\",\"api_options-state.md\":\"dfdaceab\",\"community_team_index.md\":\"5dd79ce5\",\"guide_installation.md\":\"f21ddd85\",\"guide_introduction.md\":\"ec2f5770\",\"index.md\":\"5ed6eca3\",\"sqlfun_10数学统计函数.md\":\"7ea966b3\",\"sqlfun_11类型转换函数.md\":\"b3ad3bec\",\"sqlfun_12安全检测函数.md\":\"9de6d44e\",\"sqlfun_13窗口函数（待处理）.md\":\"39e6b700\",\"sqlfun_14ip函数.md\":\"1f1220b7\",\"sqlfun_15url函数.md\":\"88d93fd8\",\"sqlfun_16估算函数.md\":\"58d8ee02\",\"sqlfun_17二进制函数.md\":\"baf379af\",\"sqlfun_18位运算函数.md\":\"0289ea85\",\"sqlfun_19空间几何函数.md\":\"1c78123f\",\"sqlfun_1聚合函数.md\":\"8b96551c\",\"sqlfun_20地理函数.md\":\"405c1cb8\",\"sqlfun_21颜色函数.md\":\"2efee157\",\"sqlfun_22hyperloglog函数.md\":\"33d65e25\",\"sqlfun_23电话号码函数(待处理).md\":\"3df028b0\",\"sqlfun_24比较运算符.md\":\"c015ab2e\",\"sqlfun_25逻辑运算符.md\":\"e71ea3db\",\"sqlfun_26单位换算函数.md\":\"5e7df88d\",\"sqlfun_27窗口漏斗函数.md\":\"9c34097e\",\"sqlfun_28lambda表达式（待处理）.md\":\"f71a620a\",\"sqlfun_29条件表达式.md\":\"23d2953e\",\"sqlfun_2字符串函数.md\":\"76d821f1\",\"sqlfun_3日期和时间函数.md\":\"9ad7a6d6\",\"sqlfun_4json函数.md\":\"3446e42e\",\"sqlfun_5正则式函数.md\":\"bcf73609\",\"sqlfun_6同比和环比函数.md\":\"9267b1f1\",\"sqlfun_7数组函数和运算符.md\":\"bf3c635b\",\"sqlfun_8map映射函数和运算符.md\":\"e5a0c95d\",\"sqlfun_9数学计算函数.md\":\"1790a670\",\"sqlfun_index.md\":\"c28ccdfb\"}")</script>
    <script type="module" async src="/vuepress-vue-theme-blog/assets/app.222b9ad1.js"></script>
    
  </body>
</html>