import { _ as _export_sfc, c as createElementBlock, o as openBlock, a as createStaticVNode } from "./app.222b9ad1.js";
const __pageData = JSON.parse('{"title":"\u4ECB\u7ECD","description":"","frontmatter":{},"headers":[{"level":2,"title":"mobile_carrier\u51FD\u6570","slug":"mobile-carrier\u51FD\u6570","link":"#mobile-carrier\u51FD\u6570","children":[]},{"level":2,"title":"mobile_city\u51FD\u6570","slug":"mobile-city\u51FD\u6570","link":"#mobile-city\u51FD\u6570","children":[]},{"level":2,"title":"mobile_province\u51FD\u6570","slug":"mobile-province\u51FD\u6570","link":"#mobile-province\u51FD\u6570","children":[]}],"relativePath":"sqlfun/23\u7535\u8BDD\u53F7\u7801\u51FD\u6570(\u5F85\u5904\u7406).md"}');
const _sfc_main = { name: "sqlfun/23\u7535\u8BDD\u53F7\u7801\u51FD\u6570(\u5F85\u5904\u7406).md" };
const _hoisted_1 = /* @__PURE__ */ createStaticVNode('<h1 id="\u4ECB\u7ECD" tabindex="-1">\u4ECB\u7ECD <a class="header-anchor" href="#\u4ECB\u7ECD" aria-hidden="true">#</a></h1><p>\u7535\u8BDD\u53F7\u7801\u51FD\u6570\u7528\u4E8E\u5206\u6790\u4E2D\u56FD\u5185\u5730\u5730\u57DF\u7535\u8BDD\u53F7\u7801\u7684\u5F52\u5C5E\u5730\u3001\u8FD0\u8425\u5546\u7B49\u4FE1\u606F\u3002\u672C\u6587\u4ECB\u7ECD\u7535\u8BDD\u53F7\u7801\u51FD\u6570\u7684\u57FA\u672C\u8BED\u6CD5\u53CA\u793A\u4F8B\u3002</p><h1 id="\u51FD\u6570\u793A\u4F8B" tabindex="-1">\u51FD\u6570\u793A\u4F8B <a class="header-anchor" href="#\u51FD\u6570\u793A\u4F8B" aria-hidden="true">#</a></h1><p>\u65E5\u5FD7\u670D\u52A1\u652F\u6301\u5982\u4E0B\u7535\u8BDD\u53F7\u7801\u51FD\u6570\u3002</p><blockquote><p>\u5728\u65E5\u5FD7\u670D\u52A1\u5206\u6790\u8BED\u53E5\u4E2D\uFF0C\u8868\u793A\u5B57\u7B26\u4E32\u7684\u5B57\u7B26\u5FC5\u987B\u4F7F\u7528\u5355\u5F15\u53F7\uFF08&#39;&#39;\uFF09\u5305\u88F9\uFF0C\u65E0\u7B26\u53F7\u5305\u88F9\u6216\u88AB\u53CC\u5F15\u53F7\uFF08&quot;&quot;\uFF09\u5305\u88F9\u7684\u5B57\u7B26\u8868\u793A\u5B57\u6BB5\u540D\u6216\u5217\u540D\u3002\u4F8B\u5982\uFF1A&#39;status&#39;\u8868\u793A\u5B57\u7B26\u4E32status\uFF0Cstatus\u6216&quot;status&quot;\u8868\u793A\u65E5\u5FD7\u5B57\u6BB5status\u3002</p></blockquote><table><thead><tr><th>\u51FD\u6570\u540D\u79F0</th><th>\u8BED\u6CD5</th><th>\u8BF4\u660E</th></tr></thead><tbody><tr><td><a href="#mobile_carrier%E5%87%BD%E6%95%B0">mobile_carrier\u51FD\u6570</a></td><td>mobile_carrier( <em>x</em> )</td><td>\u5206\u6790\u7535\u8BDD\u53F7\u7801\u6240\u5C5E\u8FD0\u8425\u5546\u3002</td></tr><tr><td><a href="#mobile_city%E5%87%BD%E6%95%B0">mobile_city\u51FD\u6570</a></td><td>mobile_city( <em>x</em> )</td><td>\u5206\u6790\u7535\u8BDD\u53F7\u7801\u6240\u5C5E\u57CE\u5E02\u3002</td></tr><tr><td><a href="#mobile_province%E5%87%BD%E6%95%B0">mobile_province\u51FD\u6570</a></td><td>mobile_province( <em>x</em> )</td><td>\u5206\u6790\u7535\u8BDD\u53F7\u7801\u6240\u5C5E\u7701\u4EFD\u3002</td></tr></tbody></table><h1 id="\u6848\u4F8B" tabindex="-1">\u6848\u4F8B <a class="header-anchor" href="#\u6848\u4F8B" aria-hidden="true">#</a></h1><h2 id="mobile-carrier\u51FD\u6570" tabindex="-1">mobile_carrier\u51FD\u6570 <a class="header-anchor" href="#mobile-carrier\u51FD\u6570" aria-hidden="true">#</a></h2><p>mobile_carrier\u51FD\u6570\u7528\u4E8E\u5206\u6790\u7535\u8BDD\u53F7\u7801\u6240\u5C5E\u8FD0\u8425\u5546\u3002</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">mobile_carrier(x)</span></span>\n<span class="line"></span></code></pre></div><table><thead><tr><th>\u53C2\u6570</th><th>\u8BF4\u660E</th></tr></thead><tbody><tr><td><em>x</em></td><td>\u53C2\u6570\u503C\u4E3A\u6570\u5B57\u5F62\u5F0F\u7684\u7535\u8BDD\u53F7\u7801\u3002 \u5F53\u53C2\u6570\u503C\u4E0D\u4E3Abigint\u7C7B\u578B\u65F6\uFF0C\u60A8\u53EF\u4EE5\u4F7F\u7528tyr_cast\u51FD\u6570\u8FDB\u884C\u8F6C\u6362\u3002\u66F4\u591A\u4FE1\u606F\uFF0C\u8BF7\u53C2\u89C1<a href="https://sls.aliyun.com/function/functionInfo.html?detail_id=11#try_cast%E5%87%BD%E6%95%B0" target="_blank" rel="noreferrer">try_cast\u51FD\u6570</a>\u3002</td></tr></tbody></table><p>varchar\u7C7B\u578B\u3002</p><p>\u901A\u8FC7mobile\u5B57\u6BB5\u67E5\u8BE2\u7535\u8BDD\u53F7\u7801\u6240\u5C5E\u8FD0\u8425\u5546\u3002</p><ul><li><p>\u5B57\u6BB5\u6837\u4F8B</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">mobile:</span><span style="color:#F78C6C;">1881111</span><span style="color:#89DDFF;">****</span></span>\n<span class="line"></span></code></pre></div></li><li><p>\u67E5\u8BE2\u548C\u5206\u6790\u8BED\u53E5</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> | </span><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> mobile_carrier(mobile)</span></span>\n<span class="line"></span></code></pre></div></li><li><p>\u67E5\u8BE2\u548C\u5206\u6790\u7ED3\u679C</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/4171797261/p33429.png" alt="\u6D3B\u8DC3\u7535\u8BDD\u6240\u5C5E\u57CE\u5E02\u5217\u8868"></p></li></ul><h2 id="mobile-city\u51FD\u6570" tabindex="-1">mobile_city\u51FD\u6570 <a class="header-anchor" href="#mobile-city\u51FD\u6570" aria-hidden="true">#</a></h2><p>mobile_city\u51FD\u6570\u7528\u4E8E\u5206\u6790\u7535\u8BDD\u53F7\u7801\u6240\u5C5E\u7684\u57CE\u5E02\u3002</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">mobile_carrier(x)</span></span>\n<span class="line"></span></code></pre></div><table><thead><tr><th>\u53C2\u6570</th><th>\u8BF4\u660E</th></tr></thead><tbody><tr><td><em>x</em></td><td>\u53C2\u6570\u503C\u4E3A\u6570\u5B57\u5F62\u5F0F\u7684\u7535\u8BDD\u53F7\u7801\u3002 \u5F53\u53C2\u6570\u503C\u4E0D\u4E3Abigint\u7C7B\u578B\u65F6\uFF0C\u60A8\u53EF\u4EE5\u4F7F\u7528tyr_cast\u51FD\u6570\u8FDB\u884C\u8F6C\u6362\u3002\u66F4\u591A\u4FE1\u606F\uFF0C\u8BF7\u53C2\u89C1<a href="https://sls.aliyun.com/function/functionInfo.html?detail_id=11#try_cast%E5%87%BD%E6%95%B0" target="_blank" rel="noreferrer">try_cast\u51FD\u6570</a>\u3002</td></tr></tbody></table><p>varchar\u7C7B\u578B\u3002</p><p>\u7535\u5546\u516C\u53F8A\u901A\u8FC7\u8BBF\u95EE\u65E5\u5FD7\u4E2D\u7684mobile\u5B57\u6BB5\u548Cclient_ip\u5B57\u6BB5\uFF0C\u5206\u6790\u54EA\u4E9B\u5BA2\u6237\u7684\u7535\u8BDD\u53F7\u7801\u6240\u5728\u5730\u548C\u5176\u8BBF\u95EE\u516C\u53F8\u7F51\u7AD9\u7684IP\u5730\u5740\u6240\u5728\u5730\u4E0D\u540C\u3002</p><ul><li><p>\u5B57\u6BB5\u6837\u4F8B</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">mobile:</span><span style="color:#F78C6C;">1881111</span><span style="color:#89DDFF;">****</span></span>\n<span class="line"><span style="color:#A6ACCD;">client_ip:</span><span style="color:#F78C6C;">192</span><span style="color:#A6ACCD;">.</span><span style="color:#F78C6C;">168</span><span style="color:#A6ACCD;">.</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">.</span><span style="color:#F78C6C;">0</span></span>\n<span class="line"></span></code></pre></div></li><li><p>\u67E5\u8BE2\u548C\u5206\u6790\u8BED\u53E5</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> |</span></span>\n<span class="line"><span style="color:#F78C6C;">SELECT</span></span>\n<span class="line"><span style="color:#A6ACCD;">  mobile,</span></span>\n<span class="line"><span style="color:#A6ACCD;">  client_ip,</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">count</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">as</span><span style="color:#A6ACCD;"> PV</span></span>\n<span class="line"><span style="color:#F78C6C;">WHERE</span></span>\n<span class="line"><span style="color:#A6ACCD;">  mobile_city(mobile) </span><span style="color:#89DDFF;">!=</span><span style="color:#A6ACCD;"> ip_to_city(client_ip)</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">AND</span><span style="color:#A6ACCD;"> ip_to_city(client_ip) </span><span style="color:#89DDFF;">!=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;&#39;</span></span>\n<span class="line"><span style="color:#F78C6C;">GROUP BY</span></span>\n<span class="line"><span style="color:#A6ACCD;">  client_ip,</span></span>\n<span class="line"><span style="color:#A6ACCD;">  mobile</span></span>\n<span class="line"><span style="color:#F78C6C;">ORDER BY</span></span>\n<span class="line"><span style="color:#A6ACCD;">  PV </span><span style="color:#F78C6C;">DESC</span></span>\n<span class="line"></span></code></pre></div></li><li><p>\u67E5\u8BE2\u548C\u5206\u6790\u7ED3\u679C</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/4171797261/p300739.png" alt="mobile_city"></p></li></ul><h2 id="mobile-province\u51FD\u6570" tabindex="-1">mobile_province\u51FD\u6570 <a class="header-anchor" href="#mobile-province\u51FD\u6570" aria-hidden="true">#</a></h2><p>mobile_province\u51FD\u6570\u7528\u4E8E\u5206\u6790\u7535\u8BDD\u53F7\u7801\u6240\u5C5E\u7701\u4EFD\u3002</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">mobile_province(x)</span></span>\n<span class="line"></span></code></pre></div><table><thead><tr><th>\u53C2\u6570</th><th>\u8BF4\u660E</th></tr></thead><tbody><tr><td><em>x</em></td><td>\u53C2\u6570\u503C\u4E3A\u6570\u5B57\u5F62\u5F0F\u7684\u7535\u8BDD\u53F7\u7801\u3002 \u5F53\u53C2\u6570\u503C\u4E0D\u4E3Abigint\u7C7B\u578B\u65F6\uFF0C\u60A8\u53EF\u4EE5\u4F7F\u7528tyr_cast\u51FD\u6570\u8FDB\u884C\u8F6C\u6362\u3002\u66F4\u591A\u4FE1\u606F\uFF0C\u8BF7\u53C2\u89C1<a href="https://sls.aliyun.com/function/functionInfo.html?detail_id=11#try_cast%E5%87%BD%E6%95%B0" target="_blank" rel="noreferrer">try_cast\u51FD\u6570</a>\u3002</td></tr></tbody></table><p>varchar\u7C7B\u578B\u3002</p><p>\u7535\u5546\u516C\u53F8A\u901A\u8FC7\u8BBF\u95EE\u65E5\u5FD7\u4E2D\u7684mobile\u5B57\u6BB5\uFF0C\u5206\u6790\u5BA2\u6237\u7535\u8BDD\u53F7\u7801\u6240\u5728\u7701\u4EFD\u4EE5\u53CA\u6240\u5728\u7701\u4EFD\u7684\u5BA2\u6237\u6570\u91CF\u3002</p><ul><li><p>\u5B57\u6BB5\u6837\u4F8B</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">mobile:</span><span style="color:#F78C6C;">1881111</span><span style="color:#89DDFF;">****</span></span>\n<span class="line"></span></code></pre></div></li><li><p>\u67E5\u8BE2\u548C\u5206\u6790\u8BED\u53E5</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> |</span></span>\n<span class="line"><span style="color:#F78C6C;">SELECT</span></span>\n<span class="line"><span style="color:#A6ACCD;">  mobile_province(mobile) </span><span style="color:#F78C6C;">AS</span><span style="color:#A6ACCD;"> Province,</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">count</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">AS</span><span style="color:#A6ACCD;"> PV</span></span>\n<span class="line"><span style="color:#F78C6C;">GROUP BY</span></span>\n<span class="line"><span style="color:#A6ACCD;">  Province</span></span>\n<span class="line"><span style="color:#F78C6C;">ORDER BY</span></span>\n<span class="line"><span style="color:#A6ACCD;">  PV </span><span style="color:#F78C6C;">DESC</span></span>\n<span class="line"></span></code></pre></div></li><li><p>\u67E5\u8BE2\u548C\u5206\u6790\u7ED3\u679C</p><p><img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/4171797261/p300723.png" alt="mobile_province"></p></li></ul>', 28);
const _hoisted_29 = [
  _hoisted_1
];
function _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("div", null, _hoisted_29);
}
const _23___________ = /* @__PURE__ */ _export_sfc(_sfc_main, [["render", _sfc_render]]);
export {
  __pageData,
  _23___________ as default
};
